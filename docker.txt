MQ集群：
docker run -d --hostname rabbit1 --name myrabbit1 -p 15675:15672 -p 5675:5672 -e RABBITMQ_ERLANG_COOKIE='rabbitcookie' rabbitmq:3-management

docker run -d --hostname rabbit2 --name myrabbit2 -p 5676:5672 --link myrabbit1:rabbit1 -e RABBITMQ_ERLANG_COOKIE='rabbitcookie' rabbitmq:3-management

docker run -d --hostname rabbit3 --name myrabbit3 -p 5677:5672 --link myrabbit1:rabbit1 --link myrabbit2:rabbit2 -e RABBITMQ_ERLANG_COOKIE='rabbitcookie' rabbitmq:3-management


docker exec -it myrabbit1 bash
rabbitmqctl stop_app
rabbitmqctl reset
rabbitmqctl start_app
exit

docker exec -it myrabbit2 bash
rabbitmqctl stop_app
rabbitmqctl reset
rabbitmqctl join_cluster --ram rabbit@rabbit1
rabbitmqctl start_app
exit

docker exec -it myrabbit3 bash
rabbitmqctl stop_app
rabbitmqctl reset
rabbitmqctl join_cluster --ram rabbit@rabbit1
rabbitmqctl start_app
exit

mq设置用户以及权限

  rabbitmqctl add_user  zhang  123

   rabbitmqctl set_user_tags zhang  administrator 

 rabbitmqctl  set_permissions -p /vhost1  zhang '.*' '.*' '.*'  


操作rabbitMq查看用户：[root@ztsit4 ~]#  rabbitmqctl list_users


centos7,执行完安装命令： yum install docker

执行启动命令： systemctl   start docker  ,报下面错误：

systemctl status docker.server---查看状态报错

Error starting daemon: SELinux is not supported with the overlay2 graph driver on this kernel. Either boot into a newer kernel or disable selinux in docker (--selinux-enabled=false)

重新编辑docker配置文件：
vi /etc/sysconfig/docker

# /etc/sysconfig/docker

# Modify these options if you want to change the way the docker daemon runs

OPTIONS='--selinux-enabled=false  --log-driver=journald --signature-verification=false'
if [ -z "${DOCKER_CERT_PATH}" ]; then
    DOCKER_CERT_PATH=/etc/docker
fi

:wq 


